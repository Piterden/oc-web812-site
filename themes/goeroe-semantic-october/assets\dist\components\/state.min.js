/*!
 * # Semantic UI 2.2.2 - State
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
+function(e,t,n,a){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.state=function(t){var n,i=e(this),o=i.selector||"",s=(new Date).getTime(),c=[],r=arguments[0],l="string"==typeof r,u=[].slice.call(arguments,1);return i.each(function(){var d,f=e.isPlainObject(t)?e.extend(!0,{},e.fn.state.settings,t):e.extend({},e.fn.state.settings),v=f.error,g=f.metadata,b=f.className,x=f.namespace,h=f.states,p=f.text,m="."+x,T=x+"-module",y=e(this),w=this,C=y.data(T);d={initialize:function(){d.verbose("Initializing module"),f.automatic&&d.add.defaults(),f.context&&""!==o?e(f.context).on(o,"mouseenter"+m,d.change.text).on(o,"mouseleave"+m,d.reset.text).on(o,"click"+m,d.toggle.state):y.on("mouseenter"+m,d.change.text).on("mouseleave"+m,d.reset.text).on("click"+m,d.toggle.state),d.instantiate()},instantiate:function(){d.verbose("Storing instance of module",d),C=d,y.data(T,d)},destroy:function(){d.verbose("Destroying previous module",C),y.off(m).removeData(T)},refresh:function(){d.verbose("Refreshing selector cache"),y=e(w)},add:{defaults:function(){var n=t&&e.isPlainObject(t.states)?t.states:{};e.each(f.defaults,function(t,i){d.is[t]!==a&&d.is[t]()&&(d.verbose("Adding default states",t,w),e.extend(f.states,i,n))})}},is:{active:function(){return y.hasClass(b.active)},loading:function(){return y.hasClass(b.loading)},inactive:function(){return!y.hasClass(b.active)},state:function(e){return b[e]!==a&&y.hasClass(b[e])},enabled:function(){return!y.is(f.filter.active)},disabled:function(){return y.is(f.filter.active)},textEnabled:function(){return!y.is(f.filter.text)},button:function(){return y.is(".button:not(a, .submit)")},input:function(){return y.is("input")},progress:function(){return y.is(".ui.progress")}},allow:function(e){d.debug("Now allowing state",e),h[e]=!0},disallow:function(e){d.debug("No longer allowing",e),h[e]=!1},allows:function(e){return h[e]||!1},enable:function(){y.removeClass(b.disabled)},disable:function(){y.addClass(b.disabled)},setState:function(e){d.allows(e)&&y.addClass(b[e])},removeState:function(e){d.allows(e)&&y.removeClass(b[e])},toggle:{state:function(){var t,n;if(d.allows("active")&&d.is.enabled()){if(d.refresh(),e.fn.api!==a)if(t=y.api("get request"),n=y.api("was cancelled"))d.debug("API Request cancelled by beforesend"),f.activateTest=function(){return!1},f.deactivateTest=function(){return!1};else if(t)return void d.listenTo(t);d.change.state()}}},listenTo:function(t){d.debug("API request detected, waiting for state signal",t),t&&(p.loading&&d.update.text(p.loading),e.when(t).then(function(){"resolved"==t.state()?(d.debug("API request succeeded"),f.activateTest=function(){return!0},f.deactivateTest=function(){return!0}):(d.debug("API request failed"),f.activateTest=function(){return!1},f.deactivateTest=function(){return!1}),d.change.state()}))},change:{state:function(){d.debug("Determining state change direction"),d.is.inactive()?d.activate():d.deactivate(),f.sync&&d.sync(),f.onChange.call(w)},text:function(){d.is.textEnabled()&&(d.is.disabled()?(d.verbose("Changing text to disabled text",p.hover),d.update.text(p.disabled)):d.is.active()?p.hover?(d.verbose("Changing text to hover text",p.hover),d.update.text(p.hover)):p.deactivate&&(d.verbose("Changing text to deactivating text",p.deactivate),d.update.text(p.deactivate)):p.hover?(d.verbose("Changing text to hover text",p.hover),d.update.text(p.hover)):p.activate&&(d.verbose("Changing text to activating text",p.activate),d.update.text(p.activate)))}},activate:function(){f.activateTest.call(w)&&(d.debug("Setting state to active"),y.addClass(b.active),d.update.text(p.active),f.onActivate.call(w))},deactivate:function(){f.deactivateTest.call(w)&&(d.debug("Setting state to inactive"),y.removeClass(b.active),d.update.text(p.inactive),f.onDeactivate.call(w))},sync:function(){d.verbose("Syncing other buttons to current state"),d.is.active()?i.not(y).state("activate"):i.not(y).state("deactivate")},get:{text:function(){return f.selector.text?y.find(f.selector.text).text():y.html()},textFor:function(e){return p[e]||!1}},flash:{text:function(e,t,n){var a=d.get.text();d.debug("Flashing text message",e,t),e=e||f.text.flash,t=t||f.flashDuration,n=n||function(){},d.update.text(e),setTimeout(function(){d.update.text(a),n.call(w)},t)}},reset:{text:function(){var e=p.active||y.data(g.storedText),t=p.inactive||y.data(g.storedText);d.is.textEnabled()&&(d.is.active()&&e?(d.verbose("Resetting active text",e),d.update.text(e)):t&&(d.verbose("Resetting inactive text",e),d.update.text(t)))}},update:{text:function(e){var t=d.get.text();e&&e!==t?(d.debug("Updating text",e),f.selector.text?y.data(g.storedText,e).find(f.selector.text).text(e):y.data(g.storedText,e).html(e)):d.debug("Text is already set, ignoring update",e)}},setting:function(t,n){if(d.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(n===a)return f[t];e.isPlainObject(f[t])?e.extend(!0,f[t],n):f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,d,t);else{if(n===a)return d[t];d[t]=n}},debug:function(){!f.silent&&f.debug&&(f.performance?d.performance.log(arguments):(d.debug=Function.prototype.bind.call(console.info,console,f.name+":"),d.debug.apply(console,arguments)))},verbose:function(){!f.silent&&f.verbose&&f.debug&&(f.performance?d.performance.log(arguments):(d.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),d.verbose.apply(console,arguments)))},error:function(){f.silent||(d.error=Function.prototype.bind.call(console.error,console,f.name+":"),d.error.apply(console,arguments))},performance:{log:function(e){var t,n,a;f.performance&&(t=(new Date).getTime(),a=s||t,n=t-a,s=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:w,"Execution Time":n})),clearTimeout(d.performance.timer),d.performance.timer=setTimeout(d.performance.display,500)},display:function(){var t=f.name+":",n=0;s=!1,clearTimeout(d.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",o&&(t+=" '"+o+"'"),(console.group!==a||console.table!==a)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,i,o){var s,c,r,l=C;return i=i||u,o=w||o,"string"==typeof t&&l!==a&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,i){var o=n!=s?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=s)l=l[o];else{if(l[o]!==a)return c=l[o],!1;if(!e.isPlainObject(l[i])||n==s)return l[i]!==a?(c=l[i],!1):(d.error(v.method,t),!1);l=l[i]}})),e.isFunction(c)?r=c.apply(o,i):c!==a&&(r=c),e.isArray(n)?n.push(r):n!==a?n=[n,r]:r!==a&&(n=r),c}},l?(C===a&&d.initialize(),d.invoke(r)):(C!==a&&C.invoke("destroy"),d.initialize())}),n!==a?n:this},e.fn.state.settings={name:"State",debug:!1,verbose:!1,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:1e3,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{beforeSend:"The before send function has cancelled state change",method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(jQuery,window,document);